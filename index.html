<!doctype html>
<html>

<head>
    <title>ArduinoJs - Convert JavaScript to C</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.4/codemirror.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.4/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.4/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.59.4/mode/clike/clike.min.js"></script>

    <style>
        .editor {
            width: 100%;
        }

        .row {
            display: flex;
        }
    </style>
</head>

<body>
    <div id="app">

        <header>
            <div class="container header">
                <div class="title">ArduinoJs - Convert JavaScript to C</div>
                <div class=""><strong>Please note</strong>: Not all features aren't supported (yet).
                    <!-- See <a href="./COVERAGE.md">COVERAGE.md</a> for details. -->
                </div>
                <a href="https://github.com/jellehak/arduinojs">GitHub</a>
            </div>
        </header>

        <div class="container ">
            <div class="row">
                <button onclick="transpile()">Transpile</button>
                <div id="error" v-show="error" class="container note">
                    <strong>Transpilation failed.</strong>
                    <span id="error-text"></span>
                </div>
            </div>

            <div class="row">
                <div class="editor">
                    Javascript
                    <textarea id="source">
function multiply(x = 0, y = 0) {
    return x * y;
}

function setup() {
    pinMode(LED_BUILTIN, OUTPUT)
}

function loop() {
    digitalWrite(LED_BUILTIN, HIGH)   // turn the LED on (HIGH is the voltage level)
    delay(1000)                       // wait for a second
    digitalWrite(LED_BUILTIN, LOW)    // turn the LED off by making the voltage LOW
    delay(1000)                       // wait for a second
}
                    </textarea>
                </div>


                <div class="editor">
                    C
                    <textarea id="target"></textarea>
                </div>
            </div>

            <button @click="form.ast = !form.ast">Show/hide AST</button>

            <div class="editor" v-show="form.ast">
                AST
                <textarea id="ast"></textarea>
            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/esprima@4.0.1/dist/esprima.min.js"></script>
    <script type="module" src="./app.js"></script>
</body>

</html>